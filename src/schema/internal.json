{
    "description": "Internal domain for testing platform features.",
    "private": true,
    "inputs": {
        "options": {
            "typeRef": "#/domains/Internal/types/Options",
            "description": "Used by service-api tests.",
            "default": {},
            "flow": {
                "type": "initial"
            }
        },
        "url": {
            "typeRef": "#/domains/Generic/types/URL",
            "description": "Used by most test services.",
            "flow": {
                "type": "deferrable"
            }
        },
        "stagedInput": {
            "typeRef": "#/domains/Internal/types/Value",
            "description": "Used by test-stages service.",
            "flow": {
                "type": "multiStage",
                "outputKey": "stagedOutput"
            }
        },
        "finalPriceConsent": {
            "typeRef": "#/domains/Generic/types/PriceConsent",
            "description": "Used by test-price-consent service.",
            "flow": {
                "type": "consent",
                "outputKey": "finalPrice"
            }
        },
        "panToken": {
            "typeRef": "#/domains/Generic/types/PanToken",
            "description": "Used by test-pan-replacement service.",
            "flow": {
                "type": "deferrable"
            }
        }
    },
    "outputs": {
        "object": {
            "typeRef": "#/domains/Internal/types/Object"
        },
        "value": {
            "typeRef": "#/domains/Internal/types/Value"
        },
        "stagedOutput": {
            "typeRef": "#/domains/Internal/types/Value",
            "description": "Used by test-stages service."
        },
        "finalPrice": {
            "typeRef": "#/domains/Generic/types/PriceConsent",
            "description": "Used by test-price-consent service."
        }
    },
    "types": {
        "Value": {
            "type": [
                "null",
                "string",
                "number",
                "boolean",
                "object",
                "array"
            ],
            "description": "An arbitrary value."
        },
        "Object": {
            "type": "object",
            "description": "An object of arbitrary structure."
        },
        "Array": {
            "type": "object",
            "description": "An array of arbitrary values.",
            "items": {
                "$ref": "#/domains/Internal/types/Value"
            }
        },
        "Options": {
            "type": "object",
            "description": "Flags for testing optional features.",
            "properties": {
                "flag": {
                    "type": "boolean",
                    "default": false
                }
            }
        }
    },
    "errors": [
        {
            "code": "InternalError",
            "category": "server",
            "description": "Internal error occurred"
        },
        {
            "code": "ClientError",
            "category": "client",
            "description": "Client caused error"
        }
    ]
}
